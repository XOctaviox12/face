<!-- Encabezado de la página -->
<ion-header [translucent]="true">
  <!-- Barra superior con fondo personalizado -->
  <ion-toolbar style="--background: #1b100e; border-bottom: 2px solid #7b3b1d">
    <!-- Botón del menú lateral -->
    <ion-buttons slot="start">
      <ion-menu-button
        menu="first"
        style="color: #ffcc5c; font-size: clamp(0.8rem, 4vw, 1.2rem)"
      ></ion-menu-button>
    </ion-buttons>
    <!-- Título principal -->
    <ion-title
      style="
        color: #ffcc5c;
        font-family: 'Press Start 2P', monospace;
        font-size: clamp(0.7rem, 3.5vw, 0.9rem);
        text-shadow: 1px 1px 0 #4a260c;
        text-align: center;
        padding: 0.5rem;
      "
    >
      INFORMACIÓN
    </ion-title>
  </ion-toolbar>
</ion-header>

<!-- Contenido principal -->
<ion-content
  [fullscreen]="true"
  style="--background: #241a17; font-family: 'Press Start 2P', monospace"
>
  <!-- Efecto visual tipo CRT (pantalla vieja) -->
  <div
    style="
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.1) 0px,
        rgba(0, 0, 0, 0.1) 1px,
        transparent 2px
      );
      z-index: 9999;
      opacity: 0.1;
    "
  ></div>

  <!-- Cabecera decorativa con texto -->
  <div
    style="
      text-align: center;
      padding: clamp(1rem, 4vw, 1.5rem) clamp(0.8rem, 3vw, 1rem);
      background: linear-gradient(180deg, #1b100e 0%, #241a17 100%);
      border-bottom: 2px solid #7b3b1d;
    "
  >
    <h1
      style="
        color: #ffcc5c;
        font-size: clamp(0.8rem, 4vw, 1rem);
        text-shadow: 2px 2px 0 #4a260c, 0 0 12px #ffb000;
        margin: 0 0 clamp(0.3rem, 1.5vw, 0.5rem) 0;
        line-height: 1.3;
      "
    >
      PERSONAJES FACE-BOMB
    </h1>
    <p
      style="
        color: #f0d1a6;
        font-size: clamp(0.4rem, 2vw, 0.5rem);
        text-shadow: 1px 1px 0 #3a1b08;
        margin: 0;
        line-height: 1.4;
      "
    >
      SELECCIONA UN PERSONAJE PARA VER SUS DETALLES
    </p>
  </div>

  <!-- Grid de personajes responsive -->
  <div style="padding: clamp(0.8rem, 3vw, 1rem)">
    <!-- Tarjeta para cada personaje -->
    <div
      style="
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(min(100%, 350px), 1fr));
        gap: clamp(0.8rem, 3vw, 1rem);
      "
    >
      <ion-card
        (click)="verDetalle(personaje.id)"
        *ngFor="let personaje of personajesRecientes"
        style="
          --background: #261912;
          margin: 0;
          border: 3px solid #8c4520;
          border-radius: 12px;
          box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
          transition: all 0.3s ease;
          overflow: hidden;
          cursor: pointer;
          position: relative;
          display: flex;
          flex-direction: column;
          height: 100%;
        "
        class="personaje-card"
      >
        <!-- Etiqueta de "PERSONAJE" -->
        <div
          style="
            position: absolute;
            top: clamp(0.5rem, 2vw, 0.7rem);
            right: clamp(0.5rem, 2vw, 0.7rem);
            background: linear-gradient(135deg, #ffb000 0%, #ff4800 100%);
            color: #2b1007;
            padding: clamp(0.2rem, 1vw, 0.3rem) clamp(0.4rem, 1.5vw, 0.6rem);
            border-radius: 4px;
            font-size: clamp(0.4rem, 2vw, 0.5rem);
            text-shadow: 1px 1px 0 #ffe3b3;
            z-index: 2;
            border: 1px solid #803000;
            white-space: nowrap;
          "
        >
          PERSONAJE
        </div>

        <!-- Imagen del personaje -->
        <img
          [src]="personaje.imagen"
          style="
            height: clamp(200px, 40vh, 250px);
            width: 100%;
            object-fit: cover;
            filter: brightness(0.8) sepia(0.2) contrast(1.1);
            border-bottom: 3px solid #7b3b1d;
            transition: all 0.3s ease;
            flex-shrink: 0;
          "
          class="card-image"
        />

        <!-- Encabezado de la tarjeta -->
        <ion-card-header
          style="
            padding: clamp(0.8rem, 3vw, 1.2rem);
            background: linear-gradient(
              180deg,
              rgba(59, 30, 18, 0.9) 0%,
              rgba(38, 25, 18, 1) 100%
            );
            border-top: 1px solid #7b3b1d;
            flex-grow: 1;
          "
        >
          <!-- Nombre -->
          <ion-card-title
            style="
              color: #ffcc5c;
              font-family: 'Press Start 2P', monospace;
              font-size: clamp(0.6rem, 3vw, 0.75rem);
              text-shadow: 2px 2px 0 #4a260c;
              margin-bottom: clamp(0.2rem, 1vw, 0.3rem);
              line-height: 1.3;
            "
          >
            {{ personaje.nombre }}
          </ion-card-title>

          <!-- Apellido -->
          <ion-card-subtitle
            style="
              color: #f0d1a6;
              font-family: 'Press Start 2P', monospace;
              font-size: clamp(0.45rem, 2.2vw, 0.55rem);
              text-shadow: 1px 1px 0 #3a1b08;
              opacity: 0.9;
              letter-spacing: 0.5px;
              line-height: 1.3;
            "
          >
            {{ personaje.apellido }}
          </ion-card-subtitle>

          <!-- Mini estadísticas -->
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-top: clamp(0.5rem, 2vw, 0.8rem);
              padding-top: clamp(0.5rem, 2vw, 0.8rem);
              border-top: 1px solid #7b3b1d;
              flex-wrap: wrap;
              gap: clamp(0.3rem, 1.5vw, 0.5rem);
            "
          >
            <div
              style="
                display: flex;
                align-items: center;
                flex: 1;
                min-width: 80px;
              "
            >
              <ion-icon
                name="heart"
                style="
                  color: #ff5555;
                  font-size: clamp(0.5rem, 2.5vw, 0.7rem);
                  margin-right: clamp(0.2rem, 1vw, 0.3rem);
                "
              ></ion-icon>
              <span
                style="color: #f0d1a6; font-size: clamp(0.4rem, 2vw, 0.5rem)"
                >SALUD</span
              >
            </div>
            <div
              style="
                display: flex;
                align-items: center;
                flex: 1;
                min-width: 80px;
              "
            >
              <ion-icon
                name="flash"
                style="
                  color: #ffb000;
                  font-size: clamp(0.5rem, 2.5vw, 0.7rem);
                  margin-right: clamp(0.2rem, 1vw, 0.3rem);
                "
              ></ion-icon>
              <span
                style="color: #f0d1a6; font-size: clamp(0.4rem, 2vw, 0.5rem)"
                >DAÑO</span
              >
            </div>
            <div
              style="
                display: flex;
                align-items: center;
                flex: 1;
                min-width: 80px;
              "
            >
              <ion-icon
                name="speedometer"
                style="
                  color: #00ff88;
                  font-size: clamp(0.5rem, 2.5vw, 0.7rem);
                  margin-right: clamp(0.2rem, 1vw, 0.3rem);
                "
              ></ion-icon>
              <span
                style="color: #f0d1a6; font-size: clamp(0.4rem, 2vw, 0.5rem)"
                >VELOCIDAD</span
              >
            </div>
          </div>
        </ion-card-header>

        <!-- Efecto de brillo al pasar el cursor -->
        <div
          style="
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
              90deg,
              transparent,
              rgba(255, 176, 0, 0.15),
              transparent
            );
            transition: left 0.6s ease;
            pointer-events: none;
            z-index: 1;
          "
          class="card-glow"
        ></div>

        <!-- Efecto de borde brillante -->
        <div
          style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 12px;
            box-shadow: inset 0 0 0 0px #ffb000;
            transition: box-shadow 0.3s ease;
            pointer-events: none;
            z-index: 1;
          "
          class="card-border-glow"
        ></div>
      </ion-card>
    </div>

    <!-- Mensaje mostrado si no hay personajes -->
    <div
      *ngIf="personajesRecientes.length === 0"
      style="
        text-align: center;
        padding: clamp(2rem, 8vw, 4rem) clamp(0.8rem, 3vw, 1rem);
        color: #f0d1a6;
        font-family: 'Press Start 2P', monospace;
        background: rgba(38, 25, 18, 0.7);
        margin: clamp(1rem, 4vw, 2rem) 0;
        border: 2px solid #7b3b1d;
        border-radius: 8px;
      "
    >
      <ion-icon
        name="alert-circle-outline"
        style="
          font-size: clamp(2rem, 8vw, 3rem);
          color: #ffb000;
          margin-bottom: clamp(0.8rem, 3vw, 1rem);
          filter: drop-shadow(2px 2px 0 #4a260c);
        "
      ></ion-icon>
      <p
        style="
          font-size: clamp(0.5rem, 2.5vw, 0.7rem);
          text-shadow: 1px 1px 0 #3a1b08;
          margin: 0 0 clamp(0.3rem, 1.5vw, 0.5rem) 0;
          line-height: 1.3;
        "
      >
        NO HAY PERSONAJES DISPONIBLES
      </p>
      <p
        style="
          font-size: clamp(0.4rem, 2vw, 0.5rem);
          color: #ffcc5c;
          text-shadow: 1px 1px 0 #4a260c;
          margin: 0;
          line-height: 1.4;
        "
      >
        VUELVE PRONTO PARA NUEVOS PERSONAJES
      </p>
    </div>
  </div>

  <!-- Pie de página decorativo -->
  <div
    style="
      text-align: center;
      padding: clamp(1rem, 4vw, 2rem) clamp(0.8rem, 3vw, 1rem);
      border-top: 2px solid #7b3b1d;
      margin-top: clamp(1rem, 4vw, 2rem);
    "
  >
    <p
      style="
        color: #f0d1a6;
        font-size: clamp(0.4rem, 2vw, 0.5rem);
        text-shadow: 1px 1px 0 #3a1b08;
        margin: 0;
        line-height: 1.4;
      "
    >
      FACE-BOMB © 2024 - UNA AVENTURA DE DULCES Y CAOS
    </p>
  </div>
</ion-content>
